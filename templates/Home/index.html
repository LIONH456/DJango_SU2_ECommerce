{% extends 'Home/base.html' %}
{% load static %}

{% block title %}SU12-Ecommerce | Home{% endblock %}
{% block meta_description %}Discover the latest fashion trends and styles{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="slider-area">
    <div class="slider-active dot-style">
        {% if sliders %}
            {% for slider in sliders %}
            <!-- Dynamic Slider {{ forloop.counter }} -->
            <div class="single-slider hero-overly slider-height d-flex align-items-center" 
                 {% if slider.img %}style="background-image: url('{{ slider.img }}');"{% endif %}>
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-xl-8 col-lg-9">
                            <div class="hero__caption">
                                {% if slider.title %}
                                    <h1>{{ slider.title|linebreaksbr|safe }}</h1>
                                {% endif %}
                                {% if slider.subtitle %}
                                    <p class="mb-4">{{ slider.subtitle }}</p>
                                {% endif %}
                                {% if slider.description %}
                                    <p class="mb-4">{{ slider.description }}</p>
                                {% endif %}
                                {% if slider.link %}
                                    <a href="{{ slider.link }}" class="btn">Shop Now</a>
                                {% else %}
                                    <a href="{% url 'main:shop' %}" class="btn">Shop Now</a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        {% else %}
            <!-- Fallback Slider 1 -->
            <div class="single-slider slider-bg1 hero-overly slider-height d-flex align-items-center">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-xl-8 col-lg-9">
                            <div class="hero__caption">
                                <h1>fashion<br>changing<br>always</h1>
                                <a href="{% url 'main:shop' %}" class="btn">Shop Now</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Fallback Slider 2 -->
            <div class="single-slider slider-bg2 hero-overly slider-height d-flex align-items-center">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-xl-8 col-lg-9">
                            <div class="hero__caption">
                                <h1>trendy<br>styles<br>everyday</h1>
                                <a href="{% url 'main:shop' %}" class="btn">Shop Now</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Fallback Slider 3 -->
            <div class="single-slider slider-bg3 hero-overly slider-height d-flex align-items-center">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-xl-8 col-lg-9">
                            <div class="hero__caption">
                                <h1>elegant<br>fashion<br>forward</h1>
                                <a href="{% url 'main:shop' %}" class="btn">Shop Now</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}
    </div>
</section>

<!-- Popular Items Section -->
<section class="popular-items pt-50">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-3 col-md-6 col-sm-6">
                <div class="single-popular-items mb-50 text-center wow fadeInUp" data-wow-duration="1s" data-wow-delay=".1s">
                    <div class="popular-img">
                        <img src="{% static 'main/img/gallery/popular1.png' %}" alt="">
                        <div class="img-cap">
                            <span>Glasses</span>
                        </div>
                        <div class="favorit-items">
                            <a href="{% url 'main:shop' %}" class="btn">Shop Now</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6">
                <div class="single-popular-items mb-50 text-center wow fadeInUp" data-wow-duration="1s" data-wow-delay=".2s">
                    <div class="popular-img">
                        <img src="{% static 'main/img/gallery/popular2.png' %}" alt="">
                        <div class="img-cap">
                            <span>Watches</span>
                        </div>
                        <div class="favorit-items">
                            <a href="{% url 'main:shop' %}" class="btn">Shop Now</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6">
                <div class="single-popular-items mb-50 text-center wow fadeInUp" data-wow-duration="1s" data-wow-delay=".4s">
                    <div class="popular-img">
                        <img src="{% static 'main/img/gallery/popular3.png' %}" alt="">
                        <div class="img-cap">
                            <span>Jackets</span>
                        </div>
                        <div class="favorit-items">
                            <a href="{% url 'main:shop' %}" class="btn">Shop Now</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6">
                <div class="single-popular-items mb-50 text-center wow fadeInUp" data-wow-duration="1s" data-wow-delay=".6s">
                    <div class="popular-img">
                        <img src="{% static 'main/img/gallery/popular4.png' %}" alt="">
                        <div class="img-cap">
                            <span>Clothes</span>
                        </div>
                        <div class="favorit-items">
                            <a href="{% url 'main:shop' %}" class="btn">Shop Now</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Category Section -->
<section class="category-area section-padding30">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <div class="section-tittle text-center mb-85">
                    <h2>Shop by Category</h2>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-6 col-sm-6">
                <div class="single-cat text-center mb-50">
                    <div class="cat-icon">
                        <img src="{% static 'main/img/gallery/category1.png' %}" alt="">
                    </div>
                    <div class="cat-cap">
                        <h5><a href="{% url 'main:shop' %}?category=women">Women's Fashion</a></h5>
                        <p>Add items to cart</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 col-sm-6">
                <div class="single-cat text-center mb-50">
                    <div class="cat-icon">
                        <img src="{% static 'main/img/gallery/category2.png' %}" alt="">
                    </div>
                    <div class="cat-cap">
                        <h5><a href="{% url 'main:shop' %}?category=men">Men's Fashion</a></h5>
                        <p>Add items to cart</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 col-sm-6">
                <div class="single-cat text-center mb-50">
                    <div class="cat-icon">
                        <img src="{% static 'main/img/gallery/category3.png' %}" alt="">
                    </div>
                    <div class="cat-cap">
                        <h5><a href="{% url 'main:shop' %}?category=accessories">Accessories</a></h5>
                        <p>Add items to cart</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- New Arrival Section -->
<section class="new-arrival new-arrival2 section-padding30">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-xl-7 col-lg-8 col-md-10">
                <div class="section-tittle text-center mb-90">
                    <h2>New Arrivals</h2>
                    <p>Check out our latest arrivals and stay ahead of the fashion curve</p>
                </div>
            </div>
        </div>
        <div class="row">
            {% for product in new_arrivals %}
            <div class="col-xl-3 col-lg-3 col-md-6 col-sm-6">
                <div class="single-new-arrival mb-50 text-center wow fadeInUp" data-wow-duration="1s" data-wow-delay=".{{ forloop.counter }}s">
                    <div class="popular-img">
                        {% if product.main_image %}
                            {% if product.main_image|slice:":4" == "http" %}
                                <img src="{{ product.main_image }}" alt="{{ product.name }}">
                            {% else %}
                                <img src="{% static product.main_image %}" alt="{{ product.name }}">
                            {% endif %}
                        {% else %}
                            <img src="https://zandokh.com/image/cache/catalog/products/2024-08/5152405078/Sport-Life-T-Shirt-With-Print%20(1)-cr-450x672.jpg" alt="{{ product.name }}">
                        {% endif %}
                        <div class="favorit-items">
                            <img src="{% static 'main/img/gallery/favorit-card.png' %}" alt="">
                        </div>
                    </div>
                    <div class="popular-caption">
                        <h3><a href="{% url 'main:product_detail' product.id %}">{{ product.name }}</a></h3>
                        <div class="rating mb-10">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <span>$ {{ product.price }}</span>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-12 text-center">
                <p class="text-muted">No new arrivals available at the moment.</p>
            </div>
            {% endfor %}
        </div>
        <!-- Button -->
        <div class="row justify-content-center">
            <div class="room-btn">
                <a href="{% url 'main:shop' %}" class="border-btn">Browse More</a>
            </div>
        </div>
    </div>
</section>

<!-- Collection Section -->
<section class="collection section-bg2 section-padding30 section-over1 ml-15 mr-15" data-background="{% static 'main/img/gallery/section_bg01.png' %}">
    <div class="container-fluid"></div>
    <div class="row justify-content-center">
        <div class="col-xl-7 col-lg-9">
            <div class="single-question text-center">
                <h2 class="wow fadeInUp" data-wow-duration="2s" data-wow-delay=".1s">collection houses our first-ever</h2>
                <a href="{% url 'main:about' %}" class="btn wow fadeInUp" data-wow-duration="2s" data-wow-delay=".4s">About Us</a>
            </div>
        </div>
    </div>
</section>

<!-- Popular Locations Section -->
<section class="popular-product pt-50">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-6 col-md-6 col-sm-12">
                <div class="single-product mb-50">
                    <div class="location-img">
                        <img src="{% static 'main/img/gallery/popular-imtes1.png' %}" alt="">
                    </div>
                    <div class="location-details">
                        <p><a href="#">Established fact that by the<br> readable content</a></p>
                        <a href="#" class="btn">Read More</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-12">
                <div class="single-product mb-50">
                    <div class="location-img">
                        <img src="{% static 'main/img/gallery/popular-imtes2.png' %}" alt="">
                    </div>
                    <div class="location-details">
                        <p><a href="#">Established fact that by the<br> readable content</a></p>
                        <a href="#" class="btn">Read More</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Services Area -->
<section class="categories-area section-padding40 gray-bg">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-3 col-md-6 col-sm-6">
                <div class="single-cat mb-50 wow fadeInUp" data-wow-duration="1s" data-wow-delay=".2s">
                    <div class="cat-icon">
                        <img src="{% static 'main/img/icon/services1.svg' %}" alt="">
                    </div>
                    <div class="cat-cap">
                        <h5>Fast & Free Delivery</h5>
                        <p>Free delivery on all orders</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6">
                <div class="single-cat mb-50 wow fadeInUp" data-wow-duration="1s" data-wow-delay=".2s">
                    <div class="cat-icon">
                        <img src="{% static 'main/img/icon/services2.svg' %}" alt="">
                    </div>
                    <div class="cat-cap">
                        <h5>Secure Payment</h5>
                        <p>100% secure payment</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6">
                <div class="single-cat mb-30 wow fadeInUp" data-wow-duration="1s" data-wow-delay=".4s">
                    <div class="cat-icon">
                        <img src="{% static 'main/img/icon/services3.svg' %}" alt="">
                    </div>
                    <div class="cat-cap">
                        <h5>Quality Products</h5>
                        <p>Premium quality guarantee</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6">
                <div class="single-cat wow fadeInUp" data-wow-duration="1s" data-wow-delay=".5s">
                    <div class="cat-icon">
                        <img src="{% static 'main/img/icon/services4.svg' %}" alt="">
                    </div>
                    <div class="cat-cap">
                        <h5>24/7 Support</h5>
                        <p>Dedicated support</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
/* Enhanced New Arrivals Styling */
.single-new-arrival {
    transition: all 0.3s ease;
    border-radius: 15px;
    overflow: hidden;
    background: white;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
}

.single-new-arrival:hover {
    transform: translateY(-8px);
    box-shadow: 0 12px 30px rgba(0,0,0,0.15);
}

.single-new-arrival .popular-img {
    position: relative;
    overflow: hidden;
}

.single-new-arrival .popular-img img {
    transition: transform 0.3s ease;
    width: 100%;
    height: 300px;
    object-fit: cover;
}

.single-new-arrival:hover .popular-img img {
    transform: scale(1.05);
}

.single-new-arrival .popular-caption {
    padding: 20px 15px;
    background: white;
}

.single-new-arrival .popular-caption h3 {
    margin-bottom: 10px;
    font-size: 18px;
    font-weight: 600;
    line-height: 1.3;
}

.single-new-arrival .popular-caption h3 a {
    color: #333;
    text-decoration: none;
    transition: color 0.3s ease;
}

.single-new-arrival .popular-caption h3 a:hover {
    color: #007bff;
}

.single-new-arrival .rating {
    color: #ffc107;
    font-size: 14px;
}

.single-new-arrival .rating i {
    margin-right: 2px;
}

.single-new-arrival span {
    font-size: 20px;
    font-weight: 700;
    color: #dc3545;
}

/* Responsive adjustments */
@media (max-width: 767px) {
    .single-new-arrival .popular-img img {
        height: 250px;
    }
    
    .single-new-arrival .popular-caption h3 {
        font-size: 16px;
    }
    
    .single-new-arrival span {
        font-size: 18px;
    }
}

/* Empty state styling */
.text-muted {
    color: #6c757d !important;
    font-size: 18px;
    font-style: italic;
}
</style>

{% endblock %}

